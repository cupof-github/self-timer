!function(t){function e(){}function n(t,e){return function(){t.apply(e,arguments)}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function o(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void r._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?i:u)(e.promise,t._value);var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}i(e.promise,r)}))}function i(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if(e instanceof r)return t._state=3,t._value=e,void a(t);if("function"==typeof o)return void c(n(o,e),t)}t._state=1,t._value=e,a(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function s(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function c(t,e){var n=!1;try{t(function(t){n||(n=!0,i(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}var f=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,n){var r=new this.constructor(e);return o(this,new s(t,n,r)),r},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function r(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var a=u.then;if("function"==typeof a)return void a.call(u,function(t){r(i,t)},n)}e[i]=u,0===--o&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){f(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r._setImmediateFn=function(t){r._immediateFn=t},r._setUnhandledRejectionFn=function(t){r._unhandledRejectionFn=t},"undefined"!=typeof module&&module.exports?module.exports=r:t.Promise||(t.Promise=r)}(this),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.SelfTimer=e()}(this,function(){"use strict";function t(t){this.D=t}return t.prototype.helpers=function(){var t=this.D,e=(this.D.getDay(),function(t){return"function"==typeof t||void 0==t}),n=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},r=function(t){return t.map(function(t){return t.replace(/Sun/g,0)}).map(function(t){return t.replace(/Mon/g,1)}).map(function(t){return t.replace(/Tue/g,2)}).map(function(t){return t.replace(/Wed/g,3)}).map(function(t){return t.replace(/Thu/g,4)}).map(function(t){return t.replace(/Fri/g,5)}).map(function(t){return t.replace(/Sat/g,6)}).map(function(t){return parseInt(t)})},o=function(t){var e=t.split(/:|\s/),n=new Date;return"pm"==e.pop().toLowerCase()&&(e[0]=+e[0]+12),n.setHours(+e.shift()),n.setMinutes(+e.shift()),n},i=function(t,e){1==arguments.length&&(e=t,t=0);for(var n=[],r=0;r<e;r++)n.push(t-r);return n},u=function(t,e,n){return n<e.setDate(e.getDate()+1)&&n>t},a=function(){var e=t.getMonth()+1,n=t.getDate();return e.length<2&&(e="0"+e),n.length<2&&(n="0"+n),[e,n].join("-")},s={__checkIsValid:e,__contains:n,__dayOfTheWeekStringToNumber:r,__timeObject:o,__range:i,__dateCompare:u,__dateString:a};return s},t.prototype.messages=function(){return{day:"Error: A day should be less than 31",month:"Error: month should be untll 12",date:"Error: date format shoud be MM-DD",year:"Error: date format shoud be 20YY",monthBetween:"Error: start of month should be less than end of month",startHour:"Error: start hour should be less than 23",endHour:"Error: end hour should be untill 23",startDay:"Error: start day should be less than 30",endDay:"Error: end day should be untill 31",time:"Error: invalid time format. time should be [hh:mm AM or PM]",isNotArray:"Error: first argument shold be Array",dateGrater:"start date should not be grater than end-of -date",dateSameDay:"start and end date are should not be same date "}},t.prototype.formats=function(){return{date:/^(1[0-2]|[1-9])-([1-9]|[12]\d|3[0-1])$/,year:/^[2][0][1-9]{2}$/,annual:/^[2]{1}[0]{1}[1-3]{1}[0-9]{1}-[01]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/,time:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/}},t.prototype.on=function(t){var e=t,n=this.D,r=this.D.getDay(),o=this.messages(),i=this.helpers(),u=this.formats(),a=function(){return new Promise(function(t,n){return 0===r?t(!0):e===!0&&n(!1)})},s=function(){return new Promise(function(t,n){return 1===r?t(!0):e===!0&&n(!1)})},c=function(){return new Promise(function(t,n){return 2===r?t(!0):e===!0&&n(!1)})},f=function(){return new Promise(function(t,n){return 3===r?t(!0):e===!0&&n(!1)})},h=function(){return new Promise(function(t,n){return 4===r?t(!0):e===!0&&n(!1)})},d=function(){return new Promise(function(t,n){return 5===r?t(!0):e===!0&&n(!1)})},l=function(){return new Promise(function(t,n){return 6===r?t(!0):e===!0&&n(!1)})},m=function(t){return new Promise(function(n,u){try{if(!Array.isArray(t))throw o.isNotArray;var a=i.__dayOfTheWeekStringToNumber(t);return i.__contains(a,r)?n(!0):e===!0&&u(!1)}catch(t){return void console.error(t)}})},y=function(){return new Promise(function(t,n){var o=[1,2,3,4,5];return i.__contains(o,r)?t(!0):e===!0&&n(!1)})},p=function(){return new Promise(function(t,n){var o=[0,6];return i.__contains(o,r)?t(!0):e===!0&&n(!1)})},_=function(t){return new Promise(function(n,r){try{if(!t.match(u.date))throw o.date;return t==i.__dateString()?n(!0):e===!0&&r(!1)}catch(t){return void console.error(t)}})},v=function(t,r){return new Promise(function(u,a){var s=new Date(t),c=new Date(r);try{if(s>c)throw o.dateGrater;if(s==c)throw o.dateSameDay;return i.__dateCompare(s,c,n)?u(!0):e===!0&&a(!1)}catch(t){return void console.error(t)}})},w=function(t){return new Promise(function(r,u){try{if(!Array.isArray(t))throw o.isNotArray;return i.__contains(t,n.toISOString().slice(0,10))?r(!0):e===!0&&u(!1)}catch(t){return void console.error(t)}})},g={Sunday:a,Monday:s,Tuesday:c,Wednesday:f,Thursday:h,Friday:d,Saturday:l,Selects:m,Weekdays:y,Weekend:p,Annual:_,DatesBetween:v,DatesContain:w};return g},t.prototype.at=function(t){var e=t,n=this.D,r=(this.D.getDay(),this.D.getHours()),o=this.messages(),i=this.helpers(),u=this.formats(),a=function(t,r){return new Promise(function(a,s){try{if(!t.match(u.time))throw o.time+"at start";if(!r.match(u.time))throw o.time+" at end";var c=n<i.__timeObject(r)&&n>i.__timeObject(t);return c?a(!0):e===!0&&s(!1)}catch(t){return void console.error(t)}})},s=function(t,r){return new Promise(function(a,s){try{if(!t.match(u.time))throw o.time+"at start";if(!r.match(u.time))throw o.time+" at end";var c=n<i.__timeObject(r)&&n>i.__timeObject(t);return c?e===!0&&s(!1):a(!0)}catch(t){return void console.error(t)}})},c=function(t){return new Promise(function(n,i){var u=parseInt(t);try{if(u>23)throw o.startHour;return u===r?n(!0):e===!0&&i(!1)}catch(t){return void console.error(t)}})},f=function(t,n){return new Promise(function(u,a){var s=parseInt(t),c=parseInt(n);try{if(s>23)throw o.startHour;if(c>23)throw o.endHour;var f=i.__range(c,c-s);return f.push(t),i.__contains(f,r)?u(!0):e===!0&&a(!1)}catch(t){return void console.error(t)}})},h={Between:a,Unless:s,Hour:c,HoursBetween:f};return h},t.prototype.in=function(t){var e=t,n=this.messages(),r=this.helpers(),o=this.formats(),i=(this.D,this.D.getDate()),u=this.D.getMonth()+1,a=this.D.getFullYear(),s=function(t){return new Promise(function(n,r){try{if(parseInt(t)>31)throw __message.day;return t==i?n(!0):e===!0&&r(!1)}catch(t){return void console.error(t)}})},c=function(t){return new Promise(function(o,u){try{if(!Array.isArray(t))throw n.isNotArray;var a=t.map(function(t){return parseInt(t)});return r.__contains(a,i)?o(!0):e===!0&&u(!1)}catch(t){return void console.error(t)}})},f=function(t,o){return new Promise(function(u,a){try{var s=parseInt(t),c=parseInt(o);if(s>30)throw n.startDay;if(c>31)throw n.endDay;var f=r.__range(c,c-s);return f.push(t),r.__contains(f,i)?u(!0):e===!0&&a(!1)}catch(t){return void console.error(t)}})},h=function(t){return new Promise(function(r,o){try{if(parseInt(t)>12)throw n.month;var i=t<10?"0"+t:t;return i==u?r(!0):e===!0&&o(!1)}catch(t){return void console.error(t)}})},d=function(t){return new Promise(function(o,i){try{if(!Array.isArray(t))throw n.isNotArray;return r.__contains(t,u)?o(!0):e===!0&&i(!1)}catch(t){return void console.error(t)}})},l=function(t){return new Promise(function(r,i){try{if(!t.toString().match(o.year))throw n.year;return t==a?r(!0):e===!0&&i(!1)}catch(t){return void console.error(t)}})},m={Day:s,Days:c,DaysBetween:f,Month:h,MonthSelects:d,Year:l};return m},t.prototype.is=function(t){var e=t,n=function(t){return new Promise(function(n,r){return t?n(!0):e===!0&&r(!1)})},r=function(t){return new Promise(function(n,r){return t?e===!0&&r(!1):n(!0)})},o=function(t){return new Promise(function(n,r){var o="undefined"===navigator.userLanguage?navigator.userLanguage:navigator.language;return t==o?n(!0):e===!0&&r(!1)})},i=function(t){return new Promise(function(n,r){var o="undefined"===navigator.userLanguage?navigator.userLanguage:navigator.language;return t==o.slice(0,2)?n(!0):e===!0&&r(!1)})},u={True:n,False:r,Language:o,Lang:i};return u},t});