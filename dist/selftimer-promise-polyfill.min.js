!function(e){function t(){}function r(e,t){return function(){e.apply(t,arguments)}}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void n._immediateFn(function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._state?i:u)(t.promise,e._value);var n;try{n=r(e._value)}catch(e){return void u(t.promise,e)}i(t.promise,n)}))}function i(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void a(e);if("function"==typeof o)return void c(r(o,t),e)}e._state=1,e._value=t,a(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)o(e,e._deferreds[t]);e._deferreds=null}function s(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function c(e,t){var r=!1;try{e(function(e){r||(r=!0,i(t,e))},function(e){r||(r=!0,u(t,e))})}catch(e){if(r)return;r=!0,u(t,e)}}var f=setTimeout;n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,r){var n=new this.constructor(t);return o(this,new s(e,r,n)),n},n.all=function(e){var t=Array.prototype.slice.call(e);return new n(function(e,r){function n(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var a=u.then;if("function"==typeof a)return void a.call(u,function(e){n(i,e)},r)}t[i]=u,0===--o&&e(t)}catch(e){r(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)n(i,t[i])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,r){r(e)})},n.race=function(e){return new n(function(t,r){for(var n=0,o=e.length;n<o;n++)e[n].then(t,r)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){f(e,0)},n._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},n._setImmediateFn=function(e){n._immediateFn=e},n._setUnhandledRejectionFn=function(e){n._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=n:e.Promise||(e.Promise=n)}(this),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.SelfTimer=t()}(this,function(){"use strict";function e(e){this.D=e}return e.prototype.helpers=function(){var e=this.D,t=(this.D.getDay(),function(e){return"function"==typeof e||void 0==e}),r=function(e,t){for(var r=e.length;r--;)if(e[r]===t)return!0;return!1},n=function(e){return e.map(function(e){return e.replace(/Sun/g,0)}).map(function(e){return e.replace(/Mon/g,1)}).map(function(e){return e.replace(/Tue/g,2)}).map(function(e){return e.replace(/Wed/g,3)}).map(function(e){return e.replace(/Thu/g,4)}).map(function(e){return e.replace(/Fri/g,5)}).map(function(e){return e.replace(/Sat/g,6)}).map(function(e){return parseInt(e)})},o=function(e){var t=e.split(/:|\s/),r=new Date;return"pm"==t.pop().toLowerCase()&&(t[0]=+t[0]+12),r.setHours(+t.shift()),r.setMinutes(+t.shift()),r},i=function(e,t){1==arguments.length&&(t=e,e=0);for(var r=[],n=0;n<t;n++)r.push(e-n);return r},u=function(e,t,r){return r<t.setDate(t.getDate()+1)&&r>e},a=function(){var t=e.getMonth()+1,r=e.getDate();return t.length<2&&(t="0"+t),r.length<2&&(r="0"+r),[t,r].join("-")},s=function(e){var t;switch(e){case"s":case"sec":case"second":case"seconds":t=1e3;break;case"m":case"min":case"minute":case"minutes":t=6e4;break;default:t=!1}return t},c=function(){return"undefined"===navigator.userLanguage?navigator.userLanguage:navigator.language},f={__checkIsValid:t,__contains:r,__dayOfTheWeekStringToNumber:n,__timeObject:o,__range:i,__dateCompare:u,__dateString:a,__typeToMilliseconds:s,__detectLang:c};return f},e.prototype.messages=function(e){return{day:"Error: A day should be less than 31",month:"Error: month should be untll 12",date:"Error: date format shoud be MM-DD",year:"Error: date format shoud be 20YY",monthBetween:"Error: start of month should be less than end of month",startHour:"Error: start hour should be less than 23",endHour:"Error: end hour should be until 23",hourFormat:"Error: hours should be numberic",isNotValidHour:"Error: hour should be until 23",startDay:"Error: start day should be less than 30",endDay:"Error: end day should be untill 31",time:"Error: invalid time format. time should be [hh:mm AM or PM]",isNotArray:"Error: first argument shold be Array",dateGrater:"start date should not be grater than end-of -date",dateSameDay:"start and end date are should not be same date ",timeFormat:"Error: time of type formats",numFormat:"Error: num should be numberic",taskFormat:"Error: "+e+" should be object or function",notExist:"Error: "+e+" not exist",shouldBeFunction:"Error: "+e+" is shold be function",onlyBrowser:"Error: "+e+" is just supported web-browser"}},e.prototype.formats=function(){return{date:/^(1[0-2]|[1-9])-([1-9]|[12]\d|3[0-1])$/,year:/^[2][0][1-9]{2}$/,annual:/^[2]{1}[0]{1}[1-3]{1}[0-9]{1}-[01]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/,time:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/}},e.prototype.info=function(){return{version:"1.4.1",method:{on:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Weekdays","Weekend","Selects","Annual","DatesBetween","DatesContain"],at:["Between","Unless","Hour","HoursBetween","HourSelects"],in:["Day","Days","DaysBetween","Month","MonthSelects","Year"],is:["True","False","Language","Lang","LanguageSelects","LangSelects","LanguageExcepts","LangExcepts"],timer:["After"]}}},e.prototype.on=function(e){var t=e,r=this.D,n=this.D.getDay(),o=this.messages(),i=this.helpers(),u=this.formats(),a=function(){return new Promise(function(e,r){return 0===n?e(!0):t===!0&&r(!1)})},s=function(){return new Promise(function(e,r){return 1===n?e(!0):t===!0&&r(!1)})},c=function(){return new Promise(function(e,r){return 2===n?e(!0):t===!0&&r(!1)})},f=function(){return new Promise(function(e,r){return 3===n?e(!0):t===!0&&r(!1)})},h=function(){return new Promise(function(e,r){return 4===n?e(!0):t===!0&&r(!1)})},d=function(){return new Promise(function(e,r){return 5===n?e(!0):t===!0&&r(!1)})},l=function(){return new Promise(function(e,r){return 6===n?e(!0):t===!0&&r(!1)})},m=function(e){return new Promise(function(r,u){try{if(!Array.isArray(e))throw o.isNotArray;var a=i.__dayOfTheWeekStringToNumber(e);return i.__contains(a,n)?r(!0):t===!0&&u(!1)}catch(e){return void console.error(e)}})},y=function(){return new Promise(function(e,r){var o=[1,2,3,4,5];return i.__contains(o,n)?e(!0):t===!0&&r(!1)})},w=function(){return new Promise(function(e,r){var o=[0,6];return i.__contains(o,n)?e(!0):t===!0&&r(!1)})},_=function(e){return new Promise(function(r,n){try{if(!e.match(u.date))throw o.date;return e==i.__dateString()?r(!0):t===!0&&n(!1)}catch(e){return void console.error(e)}})},p=function(e,n){return new Promise(function(u,a){var s=new Date(e),c=new Date(n);try{if(s>c)throw o.dateGrater;if(s==c)throw o.dateSameDay;return i.__dateCompare(s,c,r)?u(!0):t===!0&&a(!1)}catch(e){return void console.error(e)}})},g=function(e){return new Promise(function(n,u){try{if(!Array.isArray(e))throw o.isNotArray;return i.__contains(e,r.toISOString().slice(0,10))?n(!0):t===!0&&u(!1)}catch(e){return void console.error(e)}})},v={Sunday:a,Monday:s,Tuesday:c,Wednesday:f,Thursday:h,Friday:d,Saturday:l,Selects:m,Weekdays:y,Weekend:w,Annual:_,DatesBetween:p,DatesContain:g};return v},e.prototype.at=function(e){var t=e,r=this.D,n=(this.D.getDay(),this.D.getHours()),o=this.messages(),i=this.helpers(),u=this.formats(),a=function(e,n){return new Promise(function(a,s){try{if(!e.match(u.time))throw o.time+"at start";if(!n.match(u.time))throw o.time+" at end";var c=r<i.__timeObject(n)&&r>i.__timeObject(e);return c?a(!0):t===!0&&s(!1)}catch(e){return void console.error(e)}})},s=function(e,n){return new Promise(function(a,s){try{if(!e.match(u.time))throw o.time+"at start";if(!n.match(u.time))throw o.time+" at end";var c=r<i.__timeObject(n)&&r>i.__timeObject(e);return c?t===!0&&s(!1):a(!0)}catch(e){return void console.error(e)}})},c=function(e){return new Promise(function(r,i){var u=parseInt(e);try{if(u>23)throw o.startHour;return u===n?r(!0):t===!0&&i(!1)}catch(e){return void console.error(e)}})},f=function(e,r){return new Promise(function(u,a){var s=parseInt(e),c=parseInt(r);try{if(s>23)throw o.startHour;if(c>23)throw o.endHour;var f=i.__range(c,c-s);return f.push(e),i.__contains(f,n)?u(!0):t===!0&&a(!1)}catch(e){return void console.error(e)}})},h=function(e,r){return new Promise(function(r,u){try{if(!Array.isArray(e))throw o.isNotArray;if(1!=!e.some(isNaN))throw o.hourFormat;var a=e.map(function(e){return parseInt(e)});return a.map(function(e){if(e>23)throw o.isNotValidHour}),i.__contains(a,n)?r(!0):t===!0&&u(!1)}catch(e){return void console.error(e)}})},d={Between:a,Unless:s,Hour:c,HoursBetween:f,HourSelects:h};return d},e.prototype.in=function(e){var t=e,r=this.messages(),n=this.helpers(),o=this.formats(),i=(this.D,this.D.getDate()),u=this.D.getMonth()+1,a=this.D.getFullYear(),s=function(e){return new Promise(function(r,n){try{if(parseInt(e)>31)throw __message.day;return e==i?r(!0):t===!0&&n(!1)}catch(e){return void console.error(e)}})},c=function(e){return new Promise(function(o,u){try{if(!Array.isArray(e))throw r.isNotArray;var a=e.map(function(e){return parseInt(e)});return n.__contains(a,i)?o(!0):t===!0&&u(!1)}catch(e){return void console.error(e)}})},f=function(e,o){return new Promise(function(u,a){try{var s=parseInt(e),c=parseInt(o);if(s>30)throw r.startDay;if(c>31)throw r.endDay;var f=n.__range(c,c-s);return f.push(e),n.__contains(f,i)?u(!0):t===!0&&a(!1)}catch(e){return void console.error(e)}})},h=function(e){return new Promise(function(n,o){try{if(parseInt(e)>12)throw r.month;var i=e<10?"0"+e:e;return i==u?n(!0):t===!0&&o(!1)}catch(e){return void console.error(e)}})},d=function(e){return new Promise(function(o,i){try{if(!Array.isArray(e))throw r.isNotArray;return n.__contains(e,u)?o(!0):t===!0&&i(!1)}catch(e){return void console.error(e)}})},l=function(e){return new Promise(function(n,i){try{if(!e.toString().match(o.year))throw r.year;return e==a?n(!0):t===!0&&i(!1)}catch(e){return void console.error(e)}})},m={Day:s,Days:c,DaysBetween:f,Month:h,MonthSelects:d,Year:l};return m},e.prototype.is=function(e){var t=e,r=this.helpers(),n=this.messages(),o=function(e){return new Promise(function(r,n){return e?r(!0):t===!0&&n(!1)})},i=function(e){return new Promise(function(r,n){return e?t===!0&&n(!1):r(!0)})},u=function(e){return new Promise(function(n,o){try{if("undefined"===window)throw this.messages("Language").onlyBrowser;return e==r.__detectLang()?n(!0):t===!0&&o(!1)}catch(e){return void console.error(e)}})},a=function(e){return new Promise(function(n,o){try{if("undefined"===window)throw this.messages("Language").onlyBrowser;var i=r.__detectLang();return e==i.slice(0,2)?n(!0):t===!0&&o(!1)}catch(e){return void console.error(e)}})},s=function(e){return new Promise(function(o,i){try{if("undefined"===window)throw this.messages("LanguageSelects").onlyBrowser;if(!Array.isArray(e))throw n.isNotArray;return r.__contains(e,r.__detectLang())?o(!0):t===!0&&i(!1)}catch(e){return void console.error(e)}})},c=function(e){try{if("undefined"===window)throw this.messages("LangSelects").onlyBrowser;if(!Array.isArray(e))throw n.isNotArray;var o=r.__detectLang();return r.__contains(e,o.slice(0,2))?resolve(!0):t===!0&&reject(!1)}catch(e){return void console.error(e)}},f=function(e){try{if("undefined"===window)throw this.messages("LanguageExcepts").onlyBrowser;if(!Array.isArray(e))throw n.isNotArray;return r.__contains(e,r.__detectLang())?t===!0&&reject(!1):resolve(!0)}catch(e){return void console.error(e)}},h=function(e){try{if("undefined"===window)throw this.messages("LangExcepts").onlyBrowser;if(!Array.isArray(e))throw n.isNotArray;var o=r.__detectLang();return r.__contains(e,o.slice(0,2))?t===!0&&reject(!1):resolve(!0)}catch(e){return void console.error(e)}},d={True:o,False:i,Language:u,Lang:a,LanguageSelects:s,LangSelects:c,LanguageExcepts:f,LangExcepts:h};return d},e.prototype.timer=function(){var e=this.messages(),t=this.helpers(),r=function(r,n,o){return new Promise(function(i){var u=t.__typeToMilliseconds(r),a=typeof o;try{if(!u)throw e.timeFormat;if(isNaN(n))throw e.numFormat;if(0===n||"0"===n)throw e.numFormat;if(!t.__contains(["object","function","undefined"],a))throw this.messages("type").taskFormat;if("object"===a){if(!("before"in o))throw this.messages("key:before").notExist;if("function"!=typeof o.before)throw this.messages("before").shouldBeFunction;return o.before(),setTimeout(function(){return i(!0)},n*u)}return setTimeout(function(){return i(!0)},n*u)}catch(e){return void console.error(e)}})},n={After:r};return n},e});