!function(e){function r(){}function t(e,r){return function(){e.apply(r,arguments)}}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,r){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(r):(e._handled=!0,void n._immediateFn(function(){var t=1===e._state?r.onFulfilled:r.onRejected;if(null===t)return void(1===e._state?i:a)(r.promise,e._value);var n;try{n=t(e._value)}catch(e){return void a(r.promise,e)}i(r.promise,n)}))}function i(e,r){try{if(r===e)throw new TypeError("A promise cannot be resolved with itself.");if(r&&("object"==typeof r||"function"==typeof r)){var o=r.then;if(r instanceof n)return e._state=3,e._value=r,void u(e);if("function"==typeof o)return void c(t(o,r),e)}e._state=1,e._value=r,u(e)}catch(r){a(e,r)}}function a(e,r){e._state=2,e._value=r,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var r=0,t=e._deferreds.length;r<t;r++)o(e,e._deferreds[r]);e._deferreds=null}function s(e,r,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof r?r:null,this.promise=t}function c(e,r){var t=!1;try{e(function(e){t||(t=!0,i(r,e))},function(e){t||(t=!0,a(r,e))})}catch(e){if(t)return;t=!0,a(r,e)}}var f=setTimeout;n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new s(e,t,n)),n},n.all=function(e){var r=Array.prototype.slice.call(e);return new n(function(e,t){function n(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){n(i,e)},t)}r[i]=a,0==--o&&e(r)}catch(e){t(e)}}if(0===r.length)return e([]);for(var o=r.length,i=0;i<r.length;i++)n(i,r[i])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(r){r(e)})},n.reject=function(e){return new n(function(r,t){t(e)})},n.race=function(e){return new n(function(r,t){for(var n=0,o=e.length;n<o;n++)e[n].then(r,t)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){f(e,0)},n._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},n._setImmediateFn=function(e){n._immediateFn=e},n._setUnhandledRejectionFn=function(e){n._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=n:e.Promise||(e.Promise=n)}(this),function(e,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?module.exports=r():e.SelfTimer=r()}(this,function(){"use strict";function e(e){if(void 0===e)this.D=new Date;else{if(e instanceof Date==!1)return void console.error("'date' must be Date type.");this.D=e}}return e.prototype.helpers=function(){var e=this.D;this.D.getDay();return{__checkIsValid:function(e){return"function"==typeof e||void 0==e},__contains:function(e,r){for(var t=e.length;t--;)if(e[t]===r)return!0;return!1},__str_includes:function(e,r){var t=!1;return e.indexOf(r)>=0&&(t=!0),t},__dayOfTheWeekStringToNumber:function(e){return e.map(function(e){return e.replace(/Sun/g,0)}).map(function(e){return e.replace(/Mon/g,1)}).map(function(e){return e.replace(/Tue/g,2)}).map(function(e){return e.replace(/Wed/g,3)}).map(function(e){return e.replace(/Thu/g,4)}).map(function(e){return e.replace(/Fri/g,5)}).map(function(e){return e.replace(/Sat/g,6)}).map(function(e){return parseInt(e)})},__timeObject:function(e){var r=e.split(/:|\s/),t=new Date;return"pm"==r.pop().toLowerCase()&&(r[0]=+r[0]+12),t.setHours(+r.shift()),t.setMinutes(+r.shift()),t},__range:function(e,r){1==arguments.length&&(r=e,e=0);for(var t=[],n=0;n<r;n++)t.push(e-n);return t},__dateCompare:function(e,r,t){return t<r.setDate(r.getDate()+1)&&t>e},__dateString:function(){var r=e.getMonth()+1,t=e.getDate();return r.length<2&&(r="0"+r),t.length<2&&(t="0"+t),[r,t].join("-")},__typeToMilliseconds:function(e){var r;switch(e){case"s":case"sec":case"second":case"seconds":r=1e3;break;case"m":case"min":case"minute":case"minutes":r=6e4;break;default:r=!1}return r},__detectLang:function(){return"undefined"===navigator.userLanguage?navigator.userLanguage.toLowerCase():navigator.language.toLowerCase()},__arrayToLower:function(e){return e.map(function(e){return e.toLowerCase()})}}},e.prototype.messages=function(e){return{day:"Error: A day should be less than 31",month:"Error: month should be untll 12",date:"Error: date format shoud be MM-DD",year:"Error: date format shoud be 20YY",monthBetween:"Error: start of month should be less than end of month",startMin:"Error: start minute should be less than 59",endMin:"Error: end minute should be until 59",minFormat:"Error: minutes should be numberic",isNotValidMin:"Error: minute should be until 59",startHour:"Error: start hour should be less than 23",endHour:"Error: end hour should be until 23",hourFormat:"Error: hours should be numberic",isNotValidHour:"Error: hour should be until 23",startDay:"Error: start day should be less than 30",endDay:"Error: end day should be untill 31",time:"Error: invalid time format. time should be [hh:mm AM or PM]",isNotArray:"Error: first argument shold be Array",dateGrater:"start date should not be grater than end-of -date",dateSameDay:"start and end date are should not be same date ",timeFormat:"Error: time of type formats",numFormat:"Error: num should be numberic",taskFormat:"Error: "+e+" should be object or function",notExist:"Error: "+e+" not exist",shouldBeFunction:"Error: "+e+" is shold be function",onlyBrowser:"Error: "+e+" is just supported web-browser"}},e.prototype.formats=function(){return{date:/^(1[0-2]|[1-9])-([1-9]|[12]\d|3[0-1])$/,year:/^[2][0][1-9]{2}$/,annual:/^[2]{1}[0]{1}[1-3]{1}[0-9]{1}-[01]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/,time:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/}},e.prototype.info=function(){return{version:"1.6.0",method:{on:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Weekdays","Weekend","Selects","Annual","DatesBetween","DatesContain"],at:["Between","Unless","Min","MinBetween","MinSelects","Hour","HoursBetween","HourSelects"],in:["Day","Days","DaysBetween","Month","MonthSelects","Year"],is:["True","False","Language","Lang","LanguageSelects","LangSelects","LanguageExcepts","LangExcepts","Mobile"],timer:["After"]}}},e.prototype.on=function(e){var r=e,t=this.D,n=this.D.getDay(),o=this.messages(),i=this.helpers(),a=this.formats();return{Sunday:function(){return new Promise(function(e,t){return 0===n?e(!0):!0===r&&t(!1)})},Monday:function(){return new Promise(function(e,t){return 1===n?e(!0):!0===r&&t(!1)})},Tuesday:function(){return new Promise(function(e,t){return 2===n?e(!0):!0===r&&t(!1)})},Wednesday:function(){return new Promise(function(e,t){return 3===n?e(!0):!0===r&&t(!1)})},Thursday:function(){return new Promise(function(e,t){return 4===n?e(!0):!0===r&&t(!1)})},Friday:function(){return new Promise(function(e,t){return 5===n?e(!0):!0===r&&t(!1)})},Saturday:function(){return new Promise(function(e,t){return 6===n?e(!0):!0===r&&t(!1)})},Selects:function(e){return new Promise(function(t,a){try{if(!Array.isArray(e))throw o.isNotArray;var u=i.__dayOfTheWeekStringToNumber(e);return i.__contains(u,n)?t(!0):!0===r&&a(!1)}catch(e){return void console.error(e)}})},Weekdays:function(){return new Promise(function(e,t){var o=[1,2,3,4,5];return i.__contains(o,n)?e(!0):!0===r&&t(!1)})},Weekend:function(){return new Promise(function(e,t){var o=[0,6];return i.__contains(o,n)?e(!0):!0===r&&t(!1)})},Annual:function(e){return new Promise(function(t,n){try{if(!e.match(a.date))throw o.date;return e==i.__dateString()?t(!0):!0===r&&n(!1)}catch(e){return void console.error(e)}})},DatesBetween:function(e,n){return new Promise(function(a,u){var s=new Date(e),c=new Date(n);try{if(s>c)throw o.dateGrater;if(s==c)throw o.dateSameDay;return i.__dateCompare(s,c,t)?a(!0):!0===r&&u(!1)}catch(e){return void console.error(e)}})},DatesContain:function(e){return new Promise(function(t,n){try{if(!Array.isArray(e))throw o.isNotArray;var a=6e4*(new Date).getTimezoneOffset(),u=new Date(Date.now()-a).toISOString().slice(0,10);return i.__contains(e,u)?t(!0):!0===r&&n(!1)}catch(e){return void console.error(e)}})}}},e.prototype.at=function(e){var r=e,t=this.D,n=(this.D.getDay(),this.D.getMinutes()),o=this.D.getHours(),i=this.messages(),a=this.helpers(),u=this.formats();return{Between:function(e,n){return new Promise(function(o,s){try{if(!e.match(u.time))throw i.time+"at start";if(!n.match(u.time))throw i.time+" at end";return t<a.__timeObject(n)&&t>a.__timeObject(e)?o(!0):!0===r&&s(!1)}catch(e){return void console.error(e)}})},Unless:function(e,n){return new Promise(function(o,s){try{if(!e.match(u.time))throw i.time+"at start";if(!n.match(u.time))throw i.time+" at end";return t<a.__timeObject(n)&&t>a.__timeObject(e)?!0===r&&s(!1):o(!0)}catch(e){return void console.error(e)}})},Min:function(e){return new Promise(function(t,o){var a=parseInt(e);try{if(a>59)throw i.startMin;return a===n?t(!0):!0===r&&o(!1)}catch(e){return void console.error(e)}})},MinBetween:function(e,t){return new Promise(function(o,u){var s=parseInt(e),c=parseInt(t);try{if(s>59)throw i.startMin;if(c>59)throw i.endMin;var f=a.__range(c,c-s);return f.push(e),a.__contains(f,n)?o(!0):!0===r&&u(!1)}catch(e){return void console.error(e)}})},MinSelects:function(e,t){return new Promise(function(t,o){try{if(!Array.isArray(e))throw i.isNotArray;if(1!=!e.some(isNaN))throw i.minFormat;var u=e.map(function(e){return parseInt(e)});return u.map(function(e){if(e>59)throw i.isNotValidHour}),a.__contains(u,n)?t(!0):!0===r&&o(!1)}catch(e){return void console.error(e)}})},Hour:function(e){return new Promise(function(t,n){var a=parseInt(e);try{if(a>23)throw i.startHour;return a===o?t(!0):!0===r&&n(!1)}catch(e){return void console.error(e)}})},HoursBetween:function(e,t){return new Promise(function(n,u){var s=parseInt(e),c=parseInt(t);try{if(s>23)throw i.startHour;if(c>23)throw i.endHour;var f=a.__range(c,c-s);return f.push(e),a.__contains(f,o)?n(!0):!0===r&&u(!1)}catch(e){return void console.error(e)}})},HourSelects:function(e,t){return new Promise(function(t,n){try{if(!Array.isArray(e))throw i.isNotArray;if(1!=!e.some(isNaN))throw i.hourFormat;var u=e.map(function(e){return parseInt(e)});return u.map(function(e){if(e>23)throw i.isNotValidHour}),a.__contains(u,o)?t(!0):!0===r&&n(!1)}catch(e){return void console.error(e)}})}}},e.prototype.in=function(e){var r=e,t=this.messages(),n=this.helpers(),o=this.formats(),i=(this.D,this.D.getDate()),a=this.D.getMonth()+1,u=this.D.getFullYear();return{Day:function(e){return new Promise(function(t,n){try{if(parseInt(e)>31)throw __msg.day;return e==i?t(!0):!0===r&&n(!1)}catch(e){return void console.error(e)}})},Days:function(e){return new Promise(function(o,a){try{if(!Array.isArray(e))throw t.isNotArray;var u=e.map(function(e){return parseInt(e)});return n.__contains(u,i)?o(!0):!0===r&&a(!1)}catch(e){return void console.error(e)}})},DaysBetween:function(e,o){return new Promise(function(a,u){try{var s=parseInt(e),c=parseInt(o);if(s>30)throw t.startDay;if(c>31)throw t.endDay;var f=n.__range(c,c-s);return f.push(e),n.__contains(f,i)?a(!0):!0===r&&u(!1)}catch(e){return void console.error(e)}})},Month:function(e){return new Promise(function(n,o){try{if(parseInt(e)>12)throw t.month;return(e<10?"0"+e:e)==a?n(!0):!0===r&&o(!1)}catch(e){return void console.error(e)}})},MonthSelects:function(e){return new Promise(function(o,i){try{if(!Array.isArray(e))throw t.isNotArray;return n.__contains(e,a)?o(!0):!0===r&&i(!1)}catch(e){return void console.error(e)}})},Year:function(e){return new Promise(function(n,i){try{if(!e.toString().match(o.year))throw t.year;return e==u?n(!0):!0===r&&i(!1)}catch(e){return void console.error(e)}})}}},e.prototype.is=function(e){var r=e,t=this.helpers(),n=this.messages();return{True:function(e){return new Promise(function(t,n){return e?t(!0):!0===r&&n(!1)})},False:function(e){return new Promise(function(t,n){return e?!0===r&&n(!1):t(!0)})},Language:function(e){return new Promise(function(n,o){try{if("undefined"==typeof window)throw this.messages("Language").onlyBrowser;return e.toLowerCase()==t.__detectLang()?n(!0):!0===r&&o(!1)}catch(e){return void console.error(e)}})},Lang:function(e){return new Promise(function(n,o){try{if("undefined"==typeof window)throw this.messages("Language").onlyBrowser;var i=t.__detectLang();return e.toLowerCase()==i.slice(0,2)?n(!0):!0===r&&o(!1)}catch(e){return void console.error(e)}})},LanguageSelects:function(e){return new Promise(function(o,i){try{if("undefined"==typeof window)throw this.messages("LanguageSelects").onlyBrowser;if(!Array.isArray(e))throw n.isNotArray;return t.__contains(t.__arrayToLower(e),t.__detectLang())?o(!0):!0===r&&i(!1)}catch(e){return void console.error(e)}})},LangSelects:function(e){return new Promise(function(o,i){try{if("undefined"==typeof window)throw this.messages("LangSelects").onlyBrowser;if(!Array.isArray(e))throw n.isNotArray;var a=t.__detectLang();return t.__contains(t.__arrayToLower(e),a.slice(0,2))?o(!0):!0===r&&i(!1)}catch(e){return void console.error(e)}})},LanguageExcepts:function(e){return new Promise(function(o,i){try{if("undefined"==typeof window)throw this.messages("LanguageExcepts").onlyBrowser;if(!Array.isArray(e))throw n.isNotArray;return t.__contains(t.__arrayToLower(e),t.__detectLang())?!0===r&&i(!1):o(!0)}catch(e){return void console.error(e)}})},LangExcepts:function(e){return new Promise(function(o,i){try{if("undefined"==typeof window)throw this.messages("LangExcepts").onlyBrowser;if(!Array.isArray(e))throw n.isNotArray;var a=t.__detectLang();return t.__contains(t.__arrayToLower(e),a.slice(0,2))?!0===r&&i(!1):o(!0)}catch(e){return void console.error(e)}})},Mobile:function(){return new Promise(function(e,n){try{if("undefined"==typeof window)throw this.messages("Mobile").onlyBrowser;for(var o=navigator.userAgent,i=["Windows Phone","iPad","iPhone","iPod","Android"],a=[],u=0;u<i.length;u++)a.push(t.__str_includes(o,i[u]));return-1!=a.indexOf(!0)?e(!0):!0===r&&n(!1)}catch(e){return void console.error(e)}})}}},e.prototype.timer=function(){var e=this.messages(),r=this.helpers();return{After:function(t,n,o){return new Promise(function(i){var a=r.__typeToMilliseconds(t),u=typeof o;try{if(!a)throw e.timeFormat;if(isNaN(n))throw e.numFormat;if(0===n||"0"===n)throw e.numFormat;if(!r.__contains(["object","function","undefined"],u))throw this.messages("type").taskFormat;if("object"===u){if(!("before"in o))throw this.messages("key:before").notExist;if("function"!=typeof o.before)throw this.messages("before").shouldBeFunction;return o.before(),setTimeout(function(){return i(!0)},n*a)}return setTimeout(function(){return i(!0)},n*a)}catch(e){return void console.error(e)}})}}},e});