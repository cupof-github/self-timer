!function(r,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():r.SelfTimer=t()}(this,function(){"use strict";function r(r){this.D=r}return r.prototype.helpers=function(){var r=this.D,t=(this.D.getDay(),function(r){return"function"==typeof r||void 0==r}),n=function(r,t){for(var n=r.length;n--;)if(r[n]===t)return!0;return!1},e=function(r){return r.map(function(r){return r.replace(/Sun/g,0)}).map(function(r){return r.replace(/Mon/g,1)}).map(function(r){return r.replace(/Tue/g,2)}).map(function(r){return r.replace(/Wed/g,3)}).map(function(r){return r.replace(/Thu/g,4)}).map(function(r){return r.replace(/Fri/g,5)}).map(function(r){return r.replace(/Sat/g,6)}).map(function(r){return parseInt(r)})},o=function(r){var t=r.split(/:|\s/),n=new Date;return"pm"==t.pop().toLowerCase()&&(t[0]=+t[0]+12),n.setHours(+t.shift()),n.setMinutes(+t.shift()),n},i=function(r,t){1==arguments.length&&(t=r,r=0);for(var n=[],e=0;e<t;e++)n.push(r-e);return n},a=function(r,t,n){return n<t.setDate(t.getDate()+1)&&n>r},u=function(){var t=r.getMonth()+1,n=r.getDate();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[t,n].join("-")},s={__checkIsValid:t,__contains:n,__dayOfTheWeekStringToNumber:e,__timeObject:o,__range:i,__dateCompare:a,__dateString:u};return s},r.prototype.messages=function(){return{day:"Error: A day should be less than 31",month:"Error: month should be untll 12",date:"Error: date format shoud be MM-DD",year:"Error: date format shoud be 20YY",monthBetween:"Error: start of month should be less than end of month",startHour:"Error: start hour should be less than 23",endHour:"Error: end hour should be until 23",hourFormat:"Error: hours should be numberic",isNotValidHour:"Error: hour should be until 23",startDay:"Error: start day should be less than 30",endDay:"Error: end day should be untill 31",time:"Error: invalid time format. time should be [hh:mm AM or PM]",isNotArray:"Error: first argument shold be Array",dateGrater:"start date should not be grater than end-of -date",dateSameDay:"start and end date are should not be same date "}},r.prototype.formats=function(){return{date:/^(1[0-2]|[1-9])-([1-9]|[12]\d|3[0-1])$/,year:/^[2][0][1-9]{2}$/,annual:/^[2]{1}[0]{1}[1-3]{1}[0-9]{1}-[01]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/,time:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/}},r.prototype.on=function(r){var t=r,n=this.D,e=this.D.getDay(),o=this.messages(),i=this.helpers(),a=this.formats(),u=function(){return new Promise(function(r,n){return 0===e?r(!0):t===!0&&n(!1)})},s=function(){return new Promise(function(r,n){return 1===e?r(!0):t===!0&&n(!1)})},c=function(){return new Promise(function(r,n){return 2===e?r(!0):t===!0&&n(!1)})},f=function(){return new Promise(function(r,n){return 3===e?r(!0):t===!0&&n(!1)})},h=function(){return new Promise(function(r,n){return 4===e?r(!0):t===!0&&n(!1)})},m=function(){return new Promise(function(r,n){return 5===e?r(!0):t===!0&&n(!1)})},d=function(){return new Promise(function(r,n){return 6===e?r(!0):t===!0&&n(!1)})},l=function(r){return new Promise(function(n,a){try{if(!Array.isArray(r))throw o.isNotArray;var u=i.__dayOfTheWeekStringToNumber(r);return i.__contains(u,e)?n(!0):t===!0&&a(!1)}catch(r){return void console.error(r)}})},y=function(){return new Promise(function(r,n){var o=[1,2,3,4,5];return i.__contains(o,e)?r(!0):t===!0&&n(!1)})},p=function(){return new Promise(function(r,n){var o=[0,6];return i.__contains(o,e)?r(!0):t===!0&&n(!1)})},w=function(r){return new Promise(function(n,e){try{if(!r.match(a.date))throw o.date;return r==i.__dateString()?n(!0):t===!0&&e(!1)}catch(r){return void console.error(r)}})},g=function(r,e){return new Promise(function(a,u){var s=new Date(r),c=new Date(e);try{if(s>c)throw o.dateGrater;if(s==c)throw o.dateSameDay;return i.__dateCompare(s,c,n)?a(!0):t===!0&&u(!1)}catch(r){return void console.error(r)}})},_=function(r){return new Promise(function(e,a){try{if(!Array.isArray(r))throw o.isNotArray;return i.__contains(r,n.toISOString().slice(0,10))?e(!0):t===!0&&a(!1)}catch(r){return void console.error(r)}})},v={Sunday:u,Monday:s,Tuesday:c,Wednesday:f,Thursday:h,Friday:m,Saturday:d,Selects:l,Weekdays:y,Weekend:p,Annual:w,DatesBetween:g,DatesContain:_};return v},r.prototype.at=function(r){var t=r,n=this.D,e=(this.D.getDay(),this.D.getHours()),o=this.messages(),i=this.helpers(),a=this.formats(),u=function(r,e){return new Promise(function(u,s){try{if(!r.match(a.time))throw o.time+"at start";if(!e.match(a.time))throw o.time+" at end";var c=n<i.__timeObject(e)&&n>i.__timeObject(r);return c?u(!0):t===!0&&s(!1)}catch(r){return void console.error(r)}})},s=function(r,e){return new Promise(function(u,s){try{if(!r.match(a.time))throw o.time+"at start";if(!e.match(a.time))throw o.time+" at end";var c=n<i.__timeObject(e)&&n>i.__timeObject(r);return c?t===!0&&s(!1):u(!0)}catch(r){return void console.error(r)}})},c=function(r){return new Promise(function(n,i){var a=parseInt(r);try{if(a>23)throw o.startHour;return a===e?n(!0):t===!0&&i(!1)}catch(r){return void console.error(r)}})},f=function(r,n){return new Promise(function(a,u){var s=parseInt(r),c=parseInt(n);try{if(s>23)throw o.startHour;if(c>23)throw o.endHour;var f=i.__range(c,c-s);return f.push(r),i.__contains(f,e)?a(!0):t===!0&&u(!1)}catch(r){return void console.error(r)}})},h=function(r,n){return new Promise(function(n,a){try{if(!Array.isArray(r))throw o.isNotArray;if(1!=!r.some(isNaN))throw o.hourFormat;var u=r.map(function(r){return parseInt(r)});return u.map(function(r){if(r>23)throw o.isNotValidHour}),i.__contains(u,e)?n(!0):t===!0&&a(!1)}catch(r){return void console.error(r)}})},m={Between:u,Unless:s,Hour:c,HoursBetween:f,HourSelects:h};return m},r.prototype.in=function(r){var t=r,n=this.messages(),e=this.helpers(),o=this.formats(),i=(this.D,this.D.getDate()),a=this.D.getMonth()+1,u=this.D.getFullYear(),s=function(r){return new Promise(function(n,e){try{if(parseInt(r)>31)throw __message.day;return r==i?n(!0):t===!0&&e(!1)}catch(r){return void console.error(r)}})},c=function(r){return new Promise(function(o,a){try{if(!Array.isArray(r))throw n.isNotArray;var u=r.map(function(r){return parseInt(r)});return e.__contains(u,i)?o(!0):t===!0&&a(!1)}catch(r){return void console.error(r)}})},f=function(r,o){return new Promise(function(a,u){try{var s=parseInt(r),c=parseInt(o);if(s>30)throw n.startDay;if(c>31)throw n.endDay;var f=e.__range(c,c-s);return f.push(r),e.__contains(f,i)?a(!0):t===!0&&u(!1)}catch(r){return void console.error(r)}})},h=function(r){return new Promise(function(e,o){try{if(parseInt(r)>12)throw n.month;var i=r<10?"0"+r:r;return i==a?e(!0):t===!0&&o(!1)}catch(r){return void console.error(r)}})},m=function(r){return new Promise(function(o,i){try{if(!Array.isArray(r))throw n.isNotArray;return e.__contains(r,a)?o(!0):t===!0&&i(!1)}catch(r){return void console.error(r)}})},d=function(r){return new Promise(function(e,i){try{if(!r.toString().match(o.year))throw n.year;return r==u?e(!0):t===!0&&i(!1)}catch(r){return void console.error(r)}})},l={Day:s,Days:c,DaysBetween:f,Month:h,MonthSelects:m,Year:d};return l},r.prototype.is=function(r){var t=r,n=function(r){return new Promise(function(n,e){return r?n(!0):t===!0&&e(!1)})},e=function(r){return new Promise(function(n,e){return r?t===!0&&e(!1):n(!0)})},o=function(r){return new Promise(function(n,e){var o="undefined"===navigator.userLanguage?navigator.userLanguage:navigator.language;return r==o?n(!0):t===!0&&e(!1)})},i=function(r){return new Promise(function(n,e){var o="undefined"===navigator.userLanguage?navigator.userLanguage:navigator.language;return r==o.slice(0,2)?n(!0):t===!0&&e(!1)})},a={True:n,False:e,Language:o,Lang:i};return a},r});