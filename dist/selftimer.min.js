!function(t,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?module.exports=r():t.SelfTimer=r()}(this,function(){"use strict";function t(t){this.D=t}return t.prototype.helpers=function(){var t=this.D,r=(this.D.getDay(),function(t){return"function"==typeof t||void 0==t}),e=function(t,r){for(var e=t.length;e--;)if(t[e]===r)return!0;return!1},n=function(t){return t.map(function(t){return t.replace(/Sun/g,0)}).map(function(t){return t.replace(/Mon/g,1)}).map(function(t){return t.replace(/Tue/g,2)}).map(function(t){return t.replace(/Wed/g,3)}).map(function(t){return t.replace(/Thu/g,4)}).map(function(t){return t.replace(/Fri/g,5)}).map(function(t){return t.replace(/Sat/g,6)}).map(function(t){return parseInt(t)})},o=function(t){var r=t.split(/:|\s/),e=new Date;return"pm"==r.pop().toLowerCase()&&(r[0]=+r[0]+12),e.setHours(+r.shift()),e.setMinutes(+r.shift()),e},i=function(t,r){1==arguments.length&&(r=t,t=0);for(var e=[],n=0;n<r;n++)e.push(t-n);return e},a=function(t,r,e){return e<r.setDate(r.getDate()+1)&&e>t},s=function(){var r=t.getMonth()+1,e=t.getDate();return r.length<2&&(r="0"+r),e.length<2&&(e="0"+e),[r,e].join("-")},c=function(t){var r;switch(t){case"s":case"sec":case"second":case"seconds":r=1e3;break;case"m":case"min":case"minute":case"minutes":r=6e4;break;default:r=!1}return r},u=function(){return"undefined"===navigator.userLanguage?navigator.userLanguage:navigator.language},h={__checkIsValid:r,__contains:e,__dayOfTheWeekStringToNumber:n,__timeObject:o,__range:i,__dateCompare:a,__dateString:s,__typeToMilliseconds:c,__detectLang:u};return h},t.prototype.messages=function(t){return{day:"Error: A day should be less than 31",month:"Error: month should be untll 12",date:"Error: date format shoud be MM-DD",year:"Error: date format shoud be 20YY",monthBetween:"Error: start of month should be less than end of month",startHour:"Error: start hour should be less than 23",endHour:"Error: end hour should be until 23",hourFormat:"Error: hours should be numberic",isNotValidHour:"Error: hour should be until 23",startDay:"Error: start day should be less than 30",endDay:"Error: end day should be untill 31",time:"Error: invalid time format. time should be [hh:mm AM or PM]",isNotArray:"Error: first argument shold be Array",dateGrater:"start date should not be grater than end-of -date",dateSameDay:"start and end date are should not be same date ",timeFormat:"Error: time of type formats",numFormat:"Error: num should be numberic",taskFormat:"Error: "+t+" should be object or function",notExist:"Error: "+t+" not exist",shouldBeFunction:"Error: "+t+" is shold be function",onlyBrowser:"Error: "+t+" is just supported web-browser"}},t.prototype.formats=function(){return{date:/^(1[0-2]|[1-9])-([1-9]|[12]\d|3[0-1])$/,year:/^[2][0][1-9]{2}$/,annual:/^[2]{1}[0]{1}[1-3]{1}[0-9]{1}-[01]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/,time:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/}},t.prototype.on=function(){var t=this.D,r=this.D.getDay(),e=this.messages(),n=this.helpers(),o=this.formats(),i=function(t){if(n.__checkIsValid(t)&&0===r)return void 0===t||t()},a=function(t){if(n.__checkIsValid(t)&&1===r)return void 0===t||t()},s=function(t){if(n.__checkIsValid(t)&&2===r)return void 0==t||t()},c=function(t){if(n.__checkIsValid(t)&&3===r)return void 0===t||t()},u=function(t){if(n.__checkIsValid(t)&&4===r)return void 0===t||t()},h=function(t){if(n.__checkIsValid(t)&&5===r)return void 0===t||t()},f=function(t){if(n.__checkIsValid(t)&&6===r)return void 0===t||t()},d=function(t,o){if(n.__checkIsValid(o))try{if(!Array.isArray(t))throw e.isNotArray;var i=n.__dayOfTheWeekStringToNumber(t);if(n.__contains(i,r))return void 0===o||o()}catch(t){return void console.error(t)}},_=function(t){if(n.__checkIsValid(t)){var e=[1,2,3,4,5];if(n.__contains(e,r))return void 0===t||t()}},l=function(t){if(n.__checkIsValid(t)){var e=[0,6];if(n.__contains(e,r))return void 0===t||t()}},m=function(t,r){if(n.__checkIsValid(r))try{if(!t.match(o.date))throw e.date;if(t==n.__dateString())return void 0===r||r()}catch(t){return void console.error(t)}},y=function(r,o,i){if(n.__checkIsValid(i)){var a=new Date(r),s=new Date(o);try{if(a>s)throw e.dateGrater;if(a==s)throw e.dateSameDay;if(n.__dateCompare(a,s,t))return void 0===i||i()}catch(t){return void console.error(t)}}},v=function(r,o){if(n.__checkIsValid(o))try{if(!Array.isArray(r))throw e.isNotArray;if(n.__contains(r,t.toISOString().slice(0,10)))return void 0===o||o()}catch(t){return void console.error(t)}},g={Sunday:i,Monday:a,Tuesday:s,Wednesday:c,Thursday:u,Friday:h,Saturday:f,Selects:d,Weekdays:_,Weekend:l,Annual:m,DatesBetween:y,DatesContain:v};return g},t.prototype.at=function(){var t=this.D,r=(this.D.getDay(),this.D.getHours()),e=this.messages(),n=this.helpers(),o=this.formats(),i=function(r,i,a){if(n.__checkIsValid(a))try{if(!r.match(o.time))throw e.time+"at start";if(!i.match(o.time))throw e.time+" at end";var s=t<n.__timeObject(i)&&t>n.__timeObject(r);if(s)return void 0===a||a()}catch(t){return void console.error(t)}},a=function(r,i,a){if(n.__checkIsValid(a))try{if(!r.match(o.time))throw e.time+"at start";if(!i.match(o.time))throw e.time+" at end";var s=t<n.__timeObject(i)&&t>n.__timeObject(r);if(!s)return void 0===a||a()}catch(t){return void console.error(t)}},s=function(t,o){if(n.__checkIsValid(o)){var i=parseInt(t);try{if(i>23)throw e.startHour;if(i===r)return void 0===o||o()}catch(t){return void console.error(t)}}},c=function(t,o,i){if(n.__checkIsValid(i)){var a=parseInt(t),s=parseInt(o);try{if(a>23)throw e.startHour;if(s>23)throw e.endHour;var c=n.__range(s,s-a);if(c.push(t),n.__contains(c,r))return void 0===i||i()}catch(t){return void console.error(t)}}},u=function(t,o){if(n.__checkIsValid(o))try{if(!Array.isArray(t))throw e.isNotArray;if(1!=!t.some(isNaN))throw e.hourFormat;var i=t.map(function(t){return parseInt(t)});if(i.map(function(t){if(t>23)throw e.isNotValidHour}),n.__contains(i,r))return void 0===o||o()}catch(t){return void console.error(t)}},h={Between:i,Unless:a,Hour:s,HoursBetween:c,HourSelects:u};return h},t.prototype.in=function(t){var r=t,e=this.messages(),n=this.helpers(),o=this.formats(),i=(this.D,this.D.getDate()),a=this.D.getMonth()+1,s=this.D.getFullYear(),c=function(t,e){if(0!=this._Chain&&n.__checkIsValid(e))try{if(parseInt(t)>31)throw __message.day;return t==i?void 0!==e?e():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},u=function(t,o){if(0!=this._Chain&&n.__checkIsValid(o))try{if(!Array.isArray(t))throw e.isNotArray;var a=t.map(function(t){return parseInt(t)});return n.__contains(a,i)?void 0!==o?o():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},h=function(t,o,a){if(0!=this._Chain&&n.__checkIsValid(a))try{var s=parseInt(t),c=parseInt(o);if(s>30)throw e.startDay;if(c>31)throw e.endDay;var u=n.__range(c,c-s);return u.push(t),n.__contains(u,i)?void 0!==a?a():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},f=function(t,o){if(0!=this._Chain&&n.__checkIsValid(o))try{if(parseInt(t)>12)throw e.month;var i=t<10?"0"+t:t;return i==a?void 0!==o?o():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},d=function(t,o){if(0!=this._Chain&&n.__checkIsValid(o)){if(!Array.isArray(t))throw e.isNotArray;return n.__contains(t,a)?void 0!==o?o():1!=r||this:(this._Chain=!1,1==r&&this)}},_=function(t,i){if(0!=this._Chain&&n.__checkIsValid(i))try{if(!t.toString().match(o.year))throw e.year;return t==s?void 0!==i?i():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},l={Day:c,Days:u,DaysBetween:h,Month:f,MonthSelects:d,Year:_};return l},t.prototype.is=function(){var t=this.helpers(),r=this.messages(),e=function(t,r){if(t)return void 0===r||r()},n=function(t,r){if(!t)return void 0===r||r()},o=function(r,e){try{if("undefined"===window)throw this.messages("Language").onlyBrowser;if(r==t.__detectLang())return void 0===e||e()}catch(t){return void console.error(t)}},i=function(r,e){try{if("undefined"===window)throw this.messages("Lang").onlyBrowser;var n=t.__detectLang();if(r==n.slice(0,2))return void 0===e||e()}catch(t){return void console.error(t)}},a=function(e,n){try{if("undefined"===window)throw this.messages("LanguageSelects").onlyBrowser;if(!Array.isArray(e))throw r.isNotArray;if(t.__contains(e,t.__detectLang()))return void 0===n||n()}catch(t){return void console.error(t)}},s=function(e,n){try{if("undefined"===window)throw this.messages("LangSelects").onlyBrowser;if(!Array.isArray(e))throw r.isNotArray;var o=t.__detectLang();if(t.__contains(e,o.slice(0,2)))return void 0===n||n()}catch(t){return void console.error(t)}},c=function(e,n){try{if("undefined"===window)throw this.messages("LanguageExcepts").onlyBrowser;if(!Array.isArray(e))throw r.isNotArray;if(!t.__contains(e,t.__detectLang()))return void 0===n||n()}catch(t){return void console.error(t)}},u=function(e,n){try{if("undefined"===window)throw this.messages("LangExcepts").onlyBrowser;if(!Array.isArray(e))throw r.isNotArray;var o=t.__detectLang();if(!t.__contains(e,o.slice(0,2)))return void 0===n||n()}catch(t){return void console.error(t)}},h={True:e,False:n,Language:o,Lang:i,LanguageSelects:a,LangSelects:s,LanguageExcepts:c,LangExcepts:u};return h},t.prototype.timer=function(){var t=this.messages(),r=this.helpers(),e=function(e,n,o){var i=r.__typeToMilliseconds(e),a=typeof o;try{if(!i)throw t.timeFormat;if(isNaN(n))throw t.numFormat;if(0===n||"0"===n)throw t.numFormat;if(!r.__contains(["object","function"],a))throw this.messages("type").taskFormat;if("object"===a){if(!("before"in o))throw this.messages("key:before").notExist;if(!("before"in o))throw this.messages("key:after").notExist;if("function"!=typeof o.before)throw this.messages("before").shouldBeFunction;if("function"!=typeof o.after)throw this.messages("after").shouldBeFunction;return o.before(),setTimeout(function(){return o.after()},n*i)}if("function"===a)return setTimeout(function(){return o()},n*i)}catch(t){return void console.error(t)}},n=function(e,n,o){var i=r.__typeToMilliseconds(e),a=typeof o;try{if(!i)throw t.timeFormat;if(isNaN(n))throw t.numFormat;if(0===n||"0"===n)throw t.numFormat;if(!r.__contains(["object","function"],a))throw this.messages("type").taskFormat;if("object"===a){if(!("before"in o))throw this.messages("key:before").notExist;if(!("before"in o))throw this.messages("key:after").notExist;if("function"!=typeof o.before)throw this.messages("before").shouldBeFunction;if("function"!=typeof o.after)throw this.messages("after").shouldBeFunction;return o.before(),setInterval(function(){return o.after()},n*i)}if("function"===a)return setInterval(function(){return o()},n*i)}catch(t){return void console.error(t)}},o={After:e,Every:n};return o},t});