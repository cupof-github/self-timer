!function(t,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?module.exports=r():t.SelfTimer=r()}(this,function(){"use strict";function t(t){this.D=t}return t.prototype.helpers=function(){var t=this.D,r=(this.D.getDay(),function(t){return"function"==typeof t||void 0==t}),e=function(t,r){for(var e=t.length;e--;)if(t[e]===r)return!0;return!1},n=function(t){return t.map(function(t){return t.replace(/Sun/g,0)}).map(function(t){return t.replace(/Mon/g,1)}).map(function(t){return t.replace(/Tue/g,2)}).map(function(t){return t.replace(/Wed/g,3)}).map(function(t){return t.replace(/Thu/g,4)}).map(function(t){return t.replace(/Fri/g,5)}).map(function(t){return t.replace(/Sat/g,6)}).map(function(t){return parseInt(t)})},i=function(t){var r=t.split(/:|\s/),e=new Date;return"pm"==r.pop().toLowerCase()&&(r[0]=+r[0]+12),e.setHours(+r.shift()),e.setMinutes(+r.shift()),e},a=function(t,r){1==arguments.length&&(r=t,t=0);for(var e=[],n=0;n<r;n++)e.push(t-n);return e},o=function(t,r,e){return e<r.setDate(r.getDate()+1)&&e>t},s=function(){var r=t.getMonth()+1,e=t.getDate();return r.length<2&&(r="0"+r),e.length<2&&(e="0"+e),[r,e].join("-")},u={__checkIsValid:r,__contains:e,__dayOfTheWeekStringToNumber:n,__timeObject:i,__range:a,__dateCompare:o,__dateString:s};return u},t.prototype.messages=function(){return{day:"Error: A day should be less than 31",month:"Error: month should be untll 12",date:"Error: date format shoud be MM-DD",year:"Error: date format shoud be 20YY",monthBetween:"Error: start of month should be less than end of month",startHour:"Error: start hour should be less than 23",endHour:"Error: end hour should be untill 23",startDay:"Error: start day should be less than 30",endDay:"Error: end day should be untill 31",time:"Error: invalid time format. time should be [hh:mm AM or PM]",isNotArray:"Error: first argument shold be Array",dateGrater:"start date should not be grater than end-of -date",dateSameDay:"start and end date are should not be same date "}},t.prototype.formats=function(){return{date:/^(1[0-2]|[1-9])-([1-9]|[12]\d|3[0-1])$/,year:/^[2][0][1-9]{2}$/,annual:/^[2]{1}[0]{1}[1-3]{1}[0-9]{1}-[01]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/,time:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/}},t.prototype.on=function(){var t=this.D,r=this.D.getDay(),e=this.messages(),n=this.helpers(),i=this.formats(),a=function(t){if(n.__checkIsValid(t)&&0===r)return void 0===t||t()},o=function(t){if(n.__checkIsValid(t)&&1===r)return void 0===t||t()},s=function(t){if(n.__checkIsValid(t)&&2===r)return void 0==t||t()},u=function(t){if(n.__checkIsValid(t)&&3===r)return void 0===t||t()},c=function(t){if(n.__checkIsValid(t)&&4===r)return void 0===t||t()},h=function(t){if(n.__checkIsValid(t)&&5===r)return void 0===t||t()},d=function(t){if(n.__checkIsValid(t)&&6===r)return void 0===t||t()},f=function(t,i){if(n.__checkIsValid(i))try{if(!Array.isArray(t))throw e.isNotArray;var a=n.__dayOfTheWeekStringToNumber(t);if(n.__contains(a,r))return void 0===i||i()}catch(t){return void console.error(t)}},_=function(t){if(n.__checkIsValid(t)){var e=[1,2,3,4,5];if(n.__contains(e,r))return void 0===t||t()}},l=function(t){if(n.__checkIsValid(t)){var e=[0,6];if(n.__contains(e,r))return void 0===t||t()}},v=function(t,r){if(n.__checkIsValid(r))try{if(!t.match(i.date))throw e.date;if(t==n.__dateString())return void 0===r||r()}catch(t){return void console.error(t)}},y=function(r,i,a){if(n.__checkIsValid(a)){var o=new Date(r),s=new Date(i);try{if(o>s)throw e.dateGrater;if(o==s)throw e.dateSameDay;if(n.__dateCompare(o,s,t))return void 0===a||a()}catch(t){return void console.error(t)}}},m=function(r,i){if(n.__checkIsValid(i))try{if(!Array.isArray(r))throw e.isNotArray;if(n.__contains(r,t.toISOString().slice(0,10)))return void 0===i||i()}catch(t){return void console.error(t)}},g={Sunday:a,Monday:o,Tuesday:s,Wednesday:u,Thursday:c,Friday:h,Saturday:d,Selects:f,Weekdays:_,Weekend:l,Annual:v,DatesBetween:y,DatesContain:m};return g},t.prototype.at=function(){var t=this.D,r=(this.D.getDay(),this.D.getHours()),e=this.messages(),n=this.helpers(),i=this.formats(),a=function(r,a,o){if(n.__checkIsValid(o))try{if(!r.match(i.time))throw e.time+"at start";if(!a.match(i.time))throw e.time+" at end";var s=t<n.__timeObject(a)&&t>n.__timeObject(r);if(s)return void 0===o||o()}catch(t){return void console.error(t)}},o=function(r,a,o){if(n.__checkIsValid(o))try{if(!r.match(i.time))throw e.time+"at start";if(!a.match(i.time))throw e.time+" at end";var s=t<n.__timeObject(a)&&t>n.__timeObject(r);if(!s)return void 0===o||o()}catch(t){return void console.error(t)}},s=function(t,i){if(n.__checkIsValid(i)){var a=parseInt(t);try{if(a>23)throw e.startHour;if(a===r)return void 0===i||i()}catch(t){return void console.error(t)}}},u=function(t,i,a){if(n.__checkIsValid(a)){var o=parseInt(t),s=parseInt(i);try{if(o>23)throw e.startHour;if(s>23)throw e.endHour;var u=n.__range(s,s-o);if(u.push(t),n.__contains(u,r))return void 0===a||a()}catch(t){return void console.error(t)}}},c={Between:a,Unless:o,Hour:s,HoursBetween:u};return c},t.prototype.in=function(t){var r=t,e=this.messages(),n=this.helpers(),i=this.formats(),a=(this.D,this.D.getDate()),o=this.D.getMonth()+1,s=this.D.getFullYear(),u=function(t,e){if(0!=this._Chain&&n.__checkIsValid(e))try{if(parseInt(t)>31)throw __message.day;return t==a?void 0!==e?e():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},c=function(t,i){if(0!=this._Chain&&n.__checkIsValid(i))try{if(!Array.isArray(t))throw e.isNotArray;var o=t.map(function(t){return parseInt(t)});return n.__contains(o,a)?void 0!==i?i():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},h=function(t,i,o){if(0!=this._Chain&&n.__checkIsValid(o))try{var s=parseInt(t),u=parseInt(i);if(s>30)throw e.startDay;if(u>31)throw e.endDay;var c=n.__range(u,u-s);return c.push(t),n.__contains(c,a)?void 0!==o?o():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},d=function(t,i){if(0!=this._Chain&&n.__checkIsValid(i))try{if(parseInt(t)>12)throw e.month;var a=t<10?"0"+t:t;return a==o?void 0!==i?i():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},f=function(t,i){if(0!=this._Chain&&n.__checkIsValid(i)){if(!Array.isArray(t))throw e.isNotArray;return n.__contains(t,o)?void 0!==i?i():1!=r||this:(this._Chain=!1,1==r&&this)}},_=function(t,a){if(0!=this._Chain&&n.__checkIsValid(a))try{if(!t.toString().match(i.year))throw e.year;return t==s?void 0!==a?a():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},l={Day:u,Days:c,DaysBetween:h,Month:d,MonthSelects:f,Year:_};return l},t.prototype.is=function(){var t=function(t,r){if(t)return void 0===r||r()},r=function(t,r){if(!t)return void 0===r||r()},e=function(t,r){var e="undefined"===navigator.userLanguage?navigator.userLanguage:navigator.language;if(t==e)return void 0===r||r()},n=function(t,r){var e="undefined"===navigator.userLanguage?navigator.userLanguage:navigator.language;if(t==e.slice(0,2))return void 0===r||r()},i={True:t,False:r,Language:e,Lang:n};return i},t});