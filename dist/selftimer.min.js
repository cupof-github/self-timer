!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.SelfTimer=e()}(this,function(){"use strict";function t(t){if("undefined"==typeof t)this.D=new Date;else{if(t instanceof Date==!1)return void console.error("'date' must be Date type.");this.D=t}}return t.prototype.helpers=function(){var t=this.D,e=(this.D.getDay(),function(t){return"function"==typeof t||void 0==t}),r=function(t,e){for(var r=t.length;r--;)if(t[r]===e)return!0;return!1},n=function(t,e){var r=!1;return t.indexOf(e)>=0&&(r=!0),r},o=function(t){return t.map(function(t){return t.replace(/Sun/g,0)}).map(function(t){return t.replace(/Mon/g,1)}).map(function(t){return t.replace(/Tue/g,2)}).map(function(t){return t.replace(/Wed/g,3)}).map(function(t){return t.replace(/Thu/g,4)}).map(function(t){return t.replace(/Fri/g,5)}).map(function(t){return t.replace(/Sat/g,6)}).map(function(t){return parseInt(t)})},i=function(t){var e=t.split(/:|\s/),r=new Date;return"pm"==e.pop().toLowerCase()&&(e[0]=+e[0]+12),r.setHours(+e.shift()),r.setMinutes(+e.shift()),r},a=function(t,e){1==arguments.length&&(e=t,t=0);for(var r=[],n=0;n<e;n++)r.push(t-n);return r},s=function(t,e,r){return r<e.setDate(e.getDate()+1)&&r>t},c=function(){var e=t.getMonth()+1,r=t.getDate();return e.length<2&&(e="0"+e),r.length<2&&(r="0"+r),[e,r].join("-")},u=function(t){var e;switch(t){case"s":case"sec":case"second":case"seconds":e=1e3;break;case"m":case"min":case"minute":case"minutes":e=6e4;break;default:e=!1}return e},f=function(){return"undefined"===navigator.userLanguage?navigator.userLanguage.toLowerCase():navigator.language.toLowerCase()},h=function(t){return t.map(function(t){return t.toLowerCase()})},d={__checkIsValid:e,__contains:r,__str_includes:n,__dayOfTheWeekStringToNumber:o,__timeObject:i,__range:a,__dateCompare:s,__dateString:c,__typeToMilliseconds:u,__detectLang:f,__arrayToLower:h};return d},t.prototype.messages=function(t){return{day:"Error: A day should be less than 31",month:"Error: month should be untll 12",date:"Error: date format shoud be MM-DD",year:"Error: date format shoud be 20YY",monthBetween:"Error: start of month should be less than end of month",startHour:"Error: start hour should be less than 23",endHour:"Error: end hour should be until 23",hourFormat:"Error: hours should be numberic",isNotValidHour:"Error: hour should be until 23",startDay:"Error: start day should be less than 30",endDay:"Error: end day should be untill 31",time:"Error: invalid time format. time should be [hh:mm AM or PM]",isNotArray:"Error: first argument shold be Array",dateGrater:"start date should not be grater than end-of -date",dateSameDay:"start and end date are should not be same date ",timeFormat:"Error: time of type formats",numFormat:"Error: num should be numberic",taskFormat:"Error: "+t+" should be object or function",notExist:"Error: "+t+" not exist",shouldBeFunction:"Error: "+t+" is shold be function",onlyBrowser:"Error: "+t+" is just supported web-browser"}},t.prototype.formats=function(){return{date:/^(1[0-2]|[1-9])-([1-9]|[12]\d|3[0-1])$/,year:/^[2][0][1-9]{2}$/,annual:/^[2]{1}[0]{1}[1-3]{1}[0-9]{1}-[01]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/,time:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/}},t.prototype.info=function(){return{version:"1.5.3",method:{on:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Weekdays","Weekend","Selects","Annual","DatesBetween","DatesContain"],at:["Between","Unless","Hour","HoursBetween","HourSelects"],in:["Day","Days","DaysBetween","Month","MonthSelects","Year"],is:["True","False","Language","Lang","LanguageSelects","LangSelects","LanguageExcepts","LangExcepts","Mobile"],timer:["After"]}}},t.prototype.on=function(){var t=this.D,e=this.D.getDay(),r=this.messages(),n=this.helpers(),o=this.formats(),i=function(t){if(n.__checkIsValid(t)&&0===e)return void 0===t||t()},a=function(t){if(n.__checkIsValid(t)&&1===e)return void 0===t||t()},s=function(t){if(n.__checkIsValid(t)&&2===e)return void 0==t||t()},c=function(t){if(n.__checkIsValid(t)&&3===e)return void 0===t||t()},u=function(t){if(n.__checkIsValid(t)&&4===e)return void 0===t||t()},f=function(t){if(n.__checkIsValid(t)&&5===e)return void 0===t||t()},h=function(t){if(n.__checkIsValid(t)&&6===e)return void 0===t||t()},d=function(t,o){if(n.__checkIsValid(o))try{if(!Array.isArray(t))throw r.isNotArray;var i=n.__dayOfTheWeekStringToNumber(t);if(n.__contains(i,e))return void 0===o||o()}catch(t){return void console.error(t)}},_=function(t){if(n.__checkIsValid(t)){var r=[1,2,3,4,5];if(n.__contains(r,e))return void 0===t||t()}},l=function(t){if(n.__checkIsValid(t)){var r=[0,6];if(n.__contains(r,e))return void 0===t||t()}},y=function(t,e){if(n.__checkIsValid(e))try{if(!t.match(o.date))throw r.date;if(t==n.__dateString())return void 0===e||e()}catch(t){return void console.error(t)}},m=function(e,o,i){if(n.__checkIsValid(i)){var a=new Date(e),s=new Date(o);try{if(a>s)throw r.dateGrater;if(a==s)throw r.dateSameDay;if(n.__dateCompare(a,s,t))return void 0===i||i()}catch(t){return void console.error(t)}}},g=function(e,o){if(n.__checkIsValid(o))try{if(!Array.isArray(e))throw r.isNotArray;if(n.__contains(e,t.toISOString().slice(0,10)))return void 0===o||o()}catch(t){return void console.error(t)}},v={Sunday:i,Monday:a,Tuesday:s,Wednesday:c,Thursday:u,Friday:f,Saturday:h,Selects:d,Weekdays:_,Weekend:l,Annual:y,DatesBetween:m,DatesContain:g};return v},t.prototype.at=function(){var t=this.D,e=(this.D.getDay(),this.D.getHours()),r=this.messages(),n=this.helpers(),o=this.formats(),i=function(e,i,a){if(n.__checkIsValid(a))try{if(!e.match(o.time))throw r.time+"at start";if(!i.match(o.time))throw r.time+" at end";var s=t<n.__timeObject(i)&&t>n.__timeObject(e);if(s)return void 0===a||a()}catch(t){return void console.error(t)}},a=function(e,i,a){if(n.__checkIsValid(a))try{if(!e.match(o.time))throw r.time+"at start";if(!i.match(o.time))throw r.time+" at end";var s=t<n.__timeObject(i)&&t>n.__timeObject(e);if(!s)return void 0===a||a()}catch(t){return void console.error(t)}},s=function(t,o){if(n.__checkIsValid(o)){var i=parseInt(t);try{if(i>23)throw r.startHour;if(i===e)return void 0===o||o()}catch(t){return void console.error(t)}}},c=function(t,o,i){if(n.__checkIsValid(i)){var a=parseInt(t),s=parseInt(o);try{if(a>23)throw r.startHour;if(s>23)throw r.endHour;var c=n.__range(s,s-a);if(c.push(t),n.__contains(c,e))return void 0===i||i()}catch(t){return void console.error(t)}}},u=function(t,o){if(n.__checkIsValid(o))try{if(!Array.isArray(t))throw r.isNotArray;if(1!=!t.some(isNaN))throw r.hourFormat;var i=t.map(function(t){return parseInt(t)});if(i.map(function(t){if(t>23)throw r.isNotValidHour}),n.__contains(i,e))return void 0===o||o()}catch(t){return void console.error(t)}},f={Between:i,Unless:a,Hour:s,HoursBetween:c,HourSelects:u};return f},t.prototype.in=function(t){var e=t,r=this.messages(),n=this.helpers(),o=this.formats(),i=(this.D,this.D.getDate()),a=this.D.getMonth()+1,s=this.D.getFullYear(),c=function(t,r){if(0!=this._Chain&&n.__checkIsValid(r))try{if(parseInt(t)>31)throw __msg.day;return t==i?void 0!==r?r():1!=e||this:(this._Chain=!1,1==e&&this)}catch(t){return void console.error(t)}},u=function(t,o){if(0!=this._Chain&&n.__checkIsValid(o))try{if(!Array.isArray(t))throw r.isNotArray;var a=t.map(function(t){return parseInt(t)});return n.__contains(a,i)?void 0!==o?o():1!=e||this:(this._Chain=!1,1==e&&this)}catch(t){return void console.error(t)}},f=function(t,o,a){if(0!=this._Chain&&n.__checkIsValid(a))try{var s=parseInt(t),c=parseInt(o);if(s>30)throw r.startDay;if(c>31)throw r.endDay;var u=n.__range(c,c-s);return u.push(t),n.__contains(u,i)?void 0!==a?a():1!=e||this:(this._Chain=!1,1==e&&this)}catch(t){return void console.error(t)}},h=function(t,o){if(0!=this._Chain&&n.__checkIsValid(o))try{if(parseInt(t)>12)throw r.month;var i=t<10?"0"+t:t;return i==a?void 0!==o?o():1!=e||this:(this._Chain=!1,1==e&&this)}catch(t){return void console.error(t)}},d=function(t,o){if(0!=this._Chain&&n.__checkIsValid(o)){if(!Array.isArray(t))throw r.isNotArray;return n.__contains(t,a)?void 0!==o?o():1!=e||this:(this._Chain=!1,1==e&&this)}},_=function(t,i){if(0!=this._Chain&&n.__checkIsValid(i))try{if(!t.toString().match(o.year))throw r.year;return t==s?void 0!==i?i():1!=e||this:(this._Chain=!1,1==e&&this)}catch(t){return void console.error(t)}},l={Day:c,Days:u,DaysBetween:f,Month:h,MonthSelects:d,Year:_};return l},t.prototype.is=function(){var t=this.helpers(),e=this.messages(),r=function(e,r){if(t.__checkIsValid(r)&&e)return void 0===r||r()},n=function(e,r){if(t.__checkIsValid(r)&&!e)return void 0===r||r()},o=function(e,r){if(t.__checkIsValid(r))try{if("undefined"==typeof window)throw this.messages("Language").onlyBrowser;if(e.toLowerCase()==t.__detectLang())return void 0===r||r()}catch(t){return void console.error(t)}},i=function(e,r){if(t.__checkIsValid(r))try{if("undefined"==typeof window)throw this.messages("Lang").onlyBrowser;var n=t.__detectLang();if(e.toLowerCase()==n.slice(0,2))return void 0===r||r()}catch(t){return void console.error(t)}},a=function(r,n){if(t.__checkIsValid(n))try{if("undefined"==typeof window)throw this.messages("LanguageSelects").onlyBrowser;if(!Array.isArray(r))throw e.isNotArray;if(t.__contains(t.__arrayToLower(r),t.__detectLang()))return void 0===n||n()}catch(t){return void console.error(t)}},s=function(r,n){if(t.__checkIsValid(n))try{if("undefined"==typeof window)throw this.messages("LangSelects").onlyBrowser;if(!Array.isArray(r))throw e.isNotArray;var o=t.__detectLang();if(t.__contains(t.__arrayToLower(r),o.slice(0,2)))return void 0===n||n()}catch(t){return void console.error(t)}},c=function(r,n){if(t.__checkIsValid(n))try{if("undefined"==typeof window)throw this.messages("LanguageExcepts").onlyBrowser;if(!Array.isArray(r))throw e.isNotArray;if(!t.__contains(t.__arrayToLower(r),t.__detectLang()))return void 0===n||n()}catch(t){return void console.error(t)}},u=function(r,n){if(t.__checkIsValid(n))try{if("undefined"==typeof window)throw this.messages("LangExcepts").onlyBrowser;if(!Array.isArray(r))throw e.isNotArray;var o=t.__detectLang();if(!t.__contains(t.__arrayToLower(r),o.slice(0,2)))return void 0===n||n()}catch(t){return void console.error(t)}},f=function(e){if(t.__checkIsValid(e))try{if("undefined"==typeof window)throw this.messages("Mobile").onlyBrowser;for(var r=navigator.userAgent,n=["Windows Phone","iPad","iPhone","iPod","Android"],o=[],i=0;i<n.length;i++)o.push(t.__str_includes(r,n[i]));if(o.indexOf(!0)!=-1)return void 0===e||e()}catch(t){return void console.error(t)}},h={True:r,False:n,Language:o,Lang:i,LanguageSelects:a,LangSelects:s,LanguageExcepts:c,LangExcepts:u,Mobile:f};return h},t.prototype.timer=function(){var t=this.messages(),e=this.helpers(),r=function(r,n,o){var i=e.__typeToMilliseconds(r),a=typeof o;try{if(!i)throw t.timeFormat;if(isNaN(n))throw t.numFormat;if(0===n||"0"===n)throw t.numFormat;if(!e.__contains(["object","function"],a))throw this.messages("type").taskFormat;if("object"===a){if(!("before"in o))throw this.messages("key:before").notExist;if(!("after"in o))throw this.messages("key:after").notExist;if("function"!=typeof o.before)throw this.messages("before").shouldBeFunction;if("function"!=typeof o.after)throw this.messages("after").shouldBeFunction;return o.before(),setTimeout(function(){return o.after()},n*i)}if("function"===a)return setTimeout(function(){return o()},n*i)}catch(t){return void console.error(t)}},n=function(r,n,o){var i=e.__typeToMilliseconds(r),a=typeof o;try{if(!i)throw t.timeFormat;if(isNaN(n))throw t.numFormat;if(0===n||"0"===n)throw t.numFormat;if(!e.__contains(["object","function"],a))throw this.messages("type").taskFormat;if("object"===a){if(!("before"in o))throw this.messages("key:before").notExist;if(!("after"in o))throw this.messages("key:after").notExist;if("function"!=typeof o.before)throw this.messages("before").shouldBeFunction;if("function"!=typeof o.after)throw this.messages("after").shouldBeFunction;return o.before(),setInterval(function(){return o.after()},n*i)}if("function"===a)return setInterval(function(){return o()},n*i)}catch(t){return void console.error(t)}},o={After:r,Every:n};return o},t});