!function(t,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?module.exports=r():t.SelfTimer=r()}(this,function(){"use strict";function t(t){if(void 0===t)this.D=new Date;else{if(t instanceof Date==!1)return void console.error("'date' must be Date type.");this.D=t}}return t.prototype.helpers=function(){var t=this.D;this.D.getDay();return{__checkIsValid:function(t){return"function"==typeof t||void 0==t},__contains:function(t,r){for(var e=t.length;e--;)if(t[e]===r)return!0;return!1},__str_includes:function(t,r){var e=!1;return t.indexOf(r)>=0&&(e=!0),e},__dayOfTheWeekStringToNumber:function(t){return t.map(function(t){return t.replace(/Sun/g,0)}).map(function(t){return t.replace(/Mon/g,1)}).map(function(t){return t.replace(/Tue/g,2)}).map(function(t){return t.replace(/Wed/g,3)}).map(function(t){return t.replace(/Thu/g,4)}).map(function(t){return t.replace(/Fri/g,5)}).map(function(t){return t.replace(/Sat/g,6)}).map(function(t){return parseInt(t)})},__timeObject:function(t){var r=t.split(/:|\s/),e=new Date;return"pm"==r.pop().toLowerCase()&&(r[0]=+r[0]+12),e.setHours(+r.shift()),e.setMinutes(+r.shift()),e},__range:function(t,r){1==arguments.length&&(r=t,t=0);for(var e=[],n=0;n<r;n++)e.push(t-n);return e},__dateCompare:function(t,r,e){return e<r.setDate(r.getDate()+1)&&e>t},__dateString:function(){var r=t.getMonth()+1,e=t.getDate();return r.length<2&&(r="0"+r),e.length<2&&(e="0"+e),[r,e].join("-")},__typeToMilliseconds:function(t){var r;switch(t){case"s":case"sec":case"second":case"seconds":r=1e3;break;case"m":case"min":case"minute":case"minutes":r=6e4;break;default:r=!1}return r},__detectLang:function(){return"undefined"===navigator.userLanguage?navigator.userLanguage.toLowerCase():navigator.language.toLowerCase()},__arrayToLower:function(t){return t.map(function(t){return t.toLowerCase()})}}},t.prototype.messages=function(t){return{day:"Error: A day should be less than 31",month:"Error: month should be untll 12",date:"Error: date format shoud be MM-DD",year:"Error: date format shoud be 20YY",monthBetween:"Error: start of month should be less than end of month",startMin:"Error: start minute should be less than 59",endMin:"Error: end minute should be until 59",minFormat:"Error: minutes should be numberic",isNotValidMin:"Error: minute should be until 59",startHour:"Error: start hour should be less than 23",endHour:"Error: end hour should be until 23",hourFormat:"Error: hours should be numberic",isNotValidHour:"Error: hour should be until 23",startDay:"Error: start day should be less than 30",endDay:"Error: end day should be untill 31",time:"Error: invalid time format. time should be [hh:mm AM or PM]",isNotArray:"Error: first argument shold be Array",dateGrater:"start date should not be grater than end-of -date",dateSameDay:"start and end date are should not be same date ",timeFormat:"Error: time of type formats",numFormat:"Error: num should be numberic",taskFormat:"Error: "+t+" should be object or function",notExist:"Error: "+t+" not exist",shouldBeFunction:"Error: "+t+" is shold be function",onlyBrowser:"Error: "+t+" is just supported web-browser"}},t.prototype.formats=function(){return{date:/^(1[0-2]|[1-9])-([1-9]|[12]\d|3[0-1])$/,year:/^[2][0][1-9]{2}$/,annual:/^[2]{1}[0]{1}[1-3]{1}[0-9]{1}-[01]{1}[0-9]{1}-[0-3]{1}[0-9]{1}$/,time:/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/}},t.prototype.info=function(){return{version:"1.6.0",method:{on:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Weekdays","Weekend","Selects","Annual","DatesBetween","DatesContain"],at:["Between","Unless","Min","MinBetween","MinSelects","Hour","HoursBetween","HourSelects"],in:["Day","Days","DaysBetween","Month","MonthSelects","Year"],is:["True","False","Language","Lang","LanguageSelects","LangSelects","LanguageExcepts","LangExcepts","Mobile"],timer:["After"]}}},t.prototype.on=function(){var t=this.D,r=this.D.getDay(),e=this.messages(),n=this.helpers(),o=this.formats();return{Sunday:function(t){if(n.__checkIsValid(t)&&0===r)return void 0===t||t()},Monday:function(t){if(n.__checkIsValid(t)&&1===r)return void 0===t||t()},Tuesday:function(t){if(n.__checkIsValid(t)&&2===r)return void 0==t||t()},Wednesday:function(t){if(n.__checkIsValid(t)&&3===r)return void 0===t||t()},Thursday:function(t){if(n.__checkIsValid(t)&&4===r)return void 0===t||t()},Friday:function(t){if(n.__checkIsValid(t)&&5===r)return void 0===t||t()},Saturday:function(t){if(n.__checkIsValid(t)&&6===r)return void 0===t||t()},Selects:function(t,o){if(n.__checkIsValid(o))try{if(!Array.isArray(t))throw e.isNotArray;var i=n.__dayOfTheWeekStringToNumber(t);if(n.__contains(i,r))return void 0===o||o()}catch(t){return void console.error(t)}},Weekdays:function(t){if(n.__checkIsValid(t)){var e=[1,2,3,4,5];if(n.__contains(e,r))return void 0===t||t()}},Weekend:function(t){if(n.__checkIsValid(t)){var e=[0,6];if(n.__contains(e,r))return void 0===t||t()}},Annual:function(t,r){if(n.__checkIsValid(r))try{if(!t.match(o.date))throw e.date;if(t==n.__dateString())return void 0===r||r()}catch(t){return void console.error(t)}},DatesBetween:function(r,o,i){if(n.__checkIsValid(i)){var a=new Date(r),s=new Date(o);try{if(a>s)throw e.dateGrater;if(a==s)throw e.dateSameDay;if(n.__dateCompare(a,s,t))return void 0===i||i()}catch(t){return void console.error(t)}}},DatesContain:function(t,r){if(n.__checkIsValid(r))try{if(!Array.isArray(t))throw e.isNotArray;var o=6e4*(new Date).getTimezoneOffset(),i=new Date(Date.now()-o).toISOString().slice(0,10);if(n.__contains(t,i))return void 0===r||r()}catch(t){return void console.error(t)}}}},t.prototype.at=function(){var t=this.D,r=(this.D.getDay(),this.D.getHours()),e=this.D.getMinutes(),n=this.messages(),o=this.helpers(),i=this.formats();return{Between:function(r,e,a){if(o.__checkIsValid(a))try{if(!r.match(i.time))throw n.time+"at start";if(!e.match(i.time))throw n.time+" at end";if(t<o.__timeObject(e)&&t>o.__timeObject(r))return void 0===a||a()}catch(t){return void console.error(t)}},Unless:function(r,e,a){if(o.__checkIsValid(a))try{if(!r.match(i.time))throw n.time+"at start";if(!e.match(i.time))throw n.time+" at end";if(!(t<o.__timeObject(e)&&t>o.__timeObject(r)))return void 0===a||a()}catch(t){return void console.error(t)}},Min:function(t,r){if(o.__checkIsValid(r)){var i=parseInt(t);try{if(i>59)throw n.startMin;if(i===e)return void 0===r||r()}catch(t){return void console.error(t)}}},MinBetween:function(t,r,i){if(o.__checkIsValid(i)){var a=parseInt(t),s=parseInt(r);try{if(a>59)throw n.startMin;if(s>59)throw n.endMin;var c=o.__range(s,s-a);if(c.push(t),o.__contains(c,e))return void 0===i||i()}catch(t){return void console.error(t)}}},MinSelects:function(t,r){if(o.__checkIsValid(r))try{if(!Array.isArray(t))throw n.isNotArray;if(1!=!t.some(isNaN))throw n.minFormat;var i=t.map(function(t){return parseInt(t)});if(i.map(function(t){if(t>59)throw n.isNotValidMin}),o.__contains(i,e))return void 0===r||r()}catch(t){return void console.error(t)}},Hour:function(t,e){if(o.__checkIsValid(e)){var i=parseInt(t);try{if(i>23)throw n.startHour;if(i===r)return void 0===e||e()}catch(t){return void console.error(t)}}},HoursBetween:function(t,e,i){if(o.__checkIsValid(i)){var a=parseInt(t),s=parseInt(e);try{if(a>23)throw n.startHour;if(s>23)throw n.endHour;var c=o.__range(s,s-a);if(c.push(t),o.__contains(c,r))return void 0===i||i()}catch(t){return void console.error(t)}}},HourSelects:function(t,e){if(o.__checkIsValid(e))try{if(!Array.isArray(t))throw n.isNotArray;if(1!=!t.some(isNaN))throw n.hourFormat;var i=t.map(function(t){return parseInt(t)});if(i.map(function(t){if(t>23)throw n.isNotValidHour}),o.__contains(i,r))return void 0===e||e()}catch(t){return void console.error(t)}}}},t.prototype.in=function(t){var r=t,e=this.messages(),n=this.helpers(),o=this.formats(),i=(this.D,this.D.getDate()),a=this.D.getMonth()+1,s=this.D.getFullYear();return{Day:function(t,e){if(0!=this._Chain&&n.__checkIsValid(e))try{if(parseInt(t)>31)throw __msg.day;return t==i?void 0!==e?e():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},Days:function(t,o){if(0!=this._Chain&&n.__checkIsValid(o))try{if(!Array.isArray(t))throw e.isNotArray;var a=t.map(function(t){return parseInt(t)});return n.__contains(a,i)?void 0!==o?o():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},DaysBetween:function(t,o,a){if(0!=this._Chain&&n.__checkIsValid(a))try{var s=parseInt(t),c=parseInt(o);if(s>30)throw e.startDay;if(c>31)throw e.endDay;var u=n.__range(c,c-s);return u.push(t),n.__contains(u,i)?void 0!==a?a():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},Month:function(t,o){if(0!=this._Chain&&n.__checkIsValid(o))try{if(parseInt(t)>12)throw e.month;return(t<10?"0"+t:t)==a?void 0!==o?o():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}},MonthSelects:function(t,o){if(0!=this._Chain&&n.__checkIsValid(o)){if(!Array.isArray(t))throw e.isNotArray;return n.__contains(t,a)?void 0!==o?o():1!=r||this:(this._Chain=!1,1==r&&this)}},Year:function(t,i){if(0!=this._Chain&&n.__checkIsValid(i))try{if(!t.toString().match(o.year))throw e.year;return t==s?void 0!==i?i():1!=r||this:(this._Chain=!1,1==r&&this)}catch(t){return void console.error(t)}}}},t.prototype.is=function(){var t=this.helpers(),r=this.messages();return{True:function(r,e){if(t.__checkIsValid(e)&&r)return void 0===e||e()},False:function(r,e){if(t.__checkIsValid(e)&&!r)return void 0===e||e()},Language:function(r,e){if(t.__checkIsValid(e))try{if("undefined"==typeof window)throw this.messages("Language").onlyBrowser;if(r.toLowerCase()==t.__detectLang())return void 0===e||e()}catch(t){return void console.error(t)}},Lang:function(r,e){if(t.__checkIsValid(e))try{if("undefined"==typeof window)throw this.messages("Lang").onlyBrowser;var n=t.__detectLang();if(r.toLowerCase()==n.slice(0,2))return void 0===e||e()}catch(t){return void console.error(t)}},LanguageSelects:function(e,n){if(t.__checkIsValid(n))try{if("undefined"==typeof window)throw this.messages("LanguageSelects").onlyBrowser;if(!Array.isArray(e))throw r.isNotArray;if(t.__contains(t.__arrayToLower(e),t.__detectLang()))return void 0===n||n()}catch(t){return void console.error(t)}},LangSelects:function(e,n){if(t.__checkIsValid(n))try{if("undefined"==typeof window)throw this.messages("LangSelects").onlyBrowser;if(!Array.isArray(e))throw r.isNotArray;var o=t.__detectLang();if(t.__contains(t.__arrayToLower(e),o.slice(0,2)))return void 0===n||n()}catch(t){return void console.error(t)}},LanguageExcepts:function(e,n){if(t.__checkIsValid(n))try{if("undefined"==typeof window)throw this.messages("LanguageExcepts").onlyBrowser;if(!Array.isArray(e))throw r.isNotArray;if(!t.__contains(t.__arrayToLower(e),t.__detectLang()))return void 0===n||n()}catch(t){return void console.error(t)}},LangExcepts:function(e,n){if(t.__checkIsValid(n))try{if("undefined"==typeof window)throw this.messages("LangExcepts").onlyBrowser;if(!Array.isArray(e))throw r.isNotArray;var o=t.__detectLang();if(!t.__contains(t.__arrayToLower(e),o.slice(0,2)))return void 0===n||n()}catch(t){return void console.error(t)}},Mobile:function(r){if(t.__checkIsValid(r))try{if("undefined"==typeof window)throw this.messages("Mobile").onlyBrowser;for(var e=navigator.userAgent,n=["Windows Phone","iPad","iPhone","iPod","Android"],o=[],i=0;i<n.length;i++)o.push(t.__str_includes(e,n[i]));if(-1!=o.indexOf(!0))return void 0===r||r()}catch(t){return void console.error(t)}}}},t.prototype.timer=function(){var t=this.messages(),r=this.helpers();return{After:function(e,n,o){var i=r.__typeToMilliseconds(e),a=typeof o;try{if(!i)throw t.timeFormat;if(isNaN(n))throw t.numFormat;if(0===n||"0"===n)throw t.numFormat;if(!r.__contains(["object","function"],a))throw this.messages("type").taskFormat;if("object"===a){if(!("before"in o))throw this.messages("key:before").notExist;if(!("after"in o))throw this.messages("key:after").notExist;if("function"!=typeof o.before)throw this.messages("before").shouldBeFunction;if("function"!=typeof o.after)throw this.messages("after").shouldBeFunction;return o.before(),setTimeout(function(){return o.after()},n*i)}if("function"===a)return setTimeout(function(){return o()},n*i)}catch(t){return void console.error(t)}},Every:function(e,n,o){var i=r.__typeToMilliseconds(e),a=typeof o;try{if(!i)throw t.timeFormat;if(isNaN(n))throw t.numFormat;if(0===n||"0"===n)throw t.numFormat;if(!r.__contains(["object","function"],a))throw this.messages("type").taskFormat;if("object"===a){if(!("before"in o))throw this.messages("key:before").notExist;if(!("after"in o))throw this.messages("key:after").notExist;if("function"!=typeof o.before)throw this.messages("before").shouldBeFunction;if("function"!=typeof o.after)throw this.messages("after").shouldBeFunction;return o.before(),setInterval(function(){return o.after()},n*i)}if("function"===a)return setInterval(function(){return o()},n*i)}catch(t){return void console.error(t)}}}},t.prototype.check=function(){var t=!0;return{With:function(r){return!0!==r&&(t=!1),this},Done:function(r){var e=typeof r;if("undefined"===e)return!0===t;if("function"===e)return!0===t&&r();throw new Error("Done() of argument should be 'function' or 'empty' .")}}},t});